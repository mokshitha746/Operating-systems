#include <stdio.h>

struct process { int pid, bt, at, ct, tat, wt; };

int main() {
    int n, i, j, time=0, completed=0;
    float avgTAT=0, avgWT=0;
    printf("Number of processes: "); scanf("%d",&n);
    struct process p[n];

    for(i=0;i<n;i++){
        printf("AT, BT for P%d: ", i+1);
        scanf("%d %d",&p[i].at,&p[i].bt);
        p[i].pid=i+1;
    }

    int done[n]; for(i=0;i<n;i++) done[i]=0;

    while(completed<n){
        int idx=-1, minBT=9999;
        for(i=0;i<n;i++)
            if(p[i].at<=time && !done[i] && p[i].bt<minBT)
                minBT=p[i].bt, idx=i;

        if(idx!=-1){
            time += p[idx].bt;
            p[idx].ct = time;
            p[idx].tat = p[idx].ct - p[idx].at;
            p[idx].wt = p[idx].tat - p[idx].bt;
            avgTAT += p[idx].tat; avgWT += p[idx].wt;
            done[idx]=1; completed++;
        } else time++;
    }

    printf("\nAvg TAT: %.2f\nAvg WT: %.2f\n", avgTAT/n, avgWT/n);
    return 0;
}
